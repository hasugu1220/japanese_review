<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì¼ë³¸ì–´ í•™ìŠµ í”„ë¡œê·¸ë¨ - Ultimate</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans JP', sans-serif;
            background: #f3f4f6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 428px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
        }

        .header {
            background: white;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 1.1rem;
            color: #7c3aed;
            font-weight: 600;
        }

        .menu-btn {
            background: #7c3aed;
            color: white;
            border: none;
            padding: 8px 14px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        .menu-dropdown {
            position: absolute;
            top: 100%;
            right: 16px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            display: none;
            min-width: 150px;
            margin-top: 8px;
            overflow: hidden;
        }

        .menu-dropdown.show {
            display: block;
        }

        .menu-item {
            padding: 14px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background 0.2s;
            font-size: 14px;
        }

        .menu-item:hover {
            background: #faf5ff;
        }

        .menu-item.active {
            background: #7c3aed;
            color: white;
        }

        /* ìŠ¤í¬ë¡¤ í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
        .scroll-progress {
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            z-index: 99;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .scroll-progress.visible {
            opacity: 1;
        }

        .scroll-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed, #a855f7);
            border-radius: 2px;
            width: 0%;
            transition: width 0.1s;
        }

        .scroll-indicator {
            position: fixed;
            top: 70px;
            right: 20px;
            background: rgba(124, 58, 237, 0.9);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            z-index: 99;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .scroll-indicator.visible {
            opacity: 1;
        }

        .main-content {
            padding: 16px;
            min-height: calc(100vh - 60px);
            padding-top: 24px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .mode-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            background: #f5f5f5;
            padding: 4px;
            border-radius: 12px;
        }

        .mode-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: transparent;
            color: #666;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .mode-btn.active {
            background: white;
            color: #7c3aed;
            box-shadow: 0 2px 8px rgba(124, 58, 237, 0.2);
        }

        .filter-dropdown {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            font-size: 15px;
            background: white;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            border-radius: 12px;
            margin-bottom: 16px;
            font-size: 14px;
            font-weight: 600;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 20px;
            color: #7c3aed;
            font-weight: 700;
        }

        .stat-label {
            font-size: 11px;
            color: #6b7280;
            margin-top: 2px;
        }

        .interactive-vocab-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: calc(100vh - 320px);
            overflow-y: auto;
            padding-bottom: 20px;
        }

        .interactive-word-card {
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: center;
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
            color: white;
            padding: 20px;
            border-radius: 16px;
            min-height: 110px;
            gap: 12px;
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
            transition: all 0.3s;
            cursor: pointer;
        }

        .interactive-word-card:active {
            transform: scale(0.98);
        }

        .word-column {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 8px;
        }

        .japanese-word {
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1.3;
        }

        .japanese-word ruby rt {
            font-size: 0.55em;
            opacity: 0.9;
        }

        .word-meaning {
            font-size: 1.2rem;
            opacity: 0.95;
            color: #f0f8ff;
            font-weight: 500;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 46px 46px;
            grid-template-rows: 40px 40px;
            gap: 4px;
        }

        .action-btn-small {
            border: 1.5px solid rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .action-btn-small:active {
            transform: scale(0.95);
        }

        .action-btn-small.active {
            background: white;
            color: #7c3aed;
        }

        .action-btn-small:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .btn-know {
            background: rgba(34, 197, 94, 0.25);
            border-color: rgba(34, 197, 94, 0.5);
        }

        .btn-dont-know {
            background: rgba(239, 68, 68, 0.25);
            border-color: rgba(239, 68, 68, 0.5);
        }

        .btn-dont-know.checked {
            background: #ef4444;
            border-color: #ef4444;
        }

        .bookmark-btn {
            padding: 10px 16px;
            background: #fbbf24;
            color: #78350f;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .bookmark-btn:hover {
            background: #f59e0b;
        }

        .bookmarked {
            animation: highlight 2s ease;
        }

        @keyframes highlight {
            0%, 100% { box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2); }
            50% { box-shadow: 0 0 20px 3px #fbbf24; }
        }

        .level-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .known-words-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            max-height: calc(100vh - 250px);
            overflow-y: auto;
        }

        .known-word-card {
            background: linear-gradient(135deg, #22c55e 0%, #84cc16 100%);
            color: white;
            padding: 14px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(34, 197, 94, 0.2);
        }

        .action-btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
            color: white;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .empty-message {
            text-align: center;
            padding: 48px 24px;
            color: #9ca3af;
            font-size: 1rem;
        }

        .hidden {
            display: none;
        }

        /* í€´ì¦ˆ ìŠ¤íƒ€ì¼ */
        .quiz-category-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .quiz-cat-btn {
            padding: 10px 16px;
            border: 1px solid #e0e0e0;
            background: white;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
        }

        .quiz-cat-btn.active {
            background: #7c3aed;
            color: white;
            border-color: #7c3aed;
        }

        .quiz-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 32px 24px;
            margin-bottom: 24px;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .quiz-question {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .quiz-furigana {
            color: rgba(255, 255, 255, 0.85);
            font-size: 1.1rem;
            margin-bottom: 24px;
            text-align: center;
        }

        .show-answer-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: 12px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .show-answer-btn:hover {
            background: white;
            color: #667eea;
        }

        .quiz-answer {
            color: #fff9c4;
            font-size: 1.2rem;
            text-align: center;
            margin-top: 20px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            line-height: 1.5;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
        }

        .quiz-control-btn {
            padding: 12px 24px;
            background: #7c3aed;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }

        .quiz-progress {
            font-size: 14px;
            color: #6b7280;
            font-weight: 600;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #7c3aed;
            border-radius: 3px;
        }

        @media (min-width: 768px) {
            body {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                padding: 20px;
            }
            
            .app-container {
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                border-radius: 20px;
                overflow: hidden;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>ì¼ë³¸ì–´ í•™ìŠµ Ultimate</h1>
            <button class="menu-btn" onclick="toggleMenu()">ë©”ë‰´</button>
            <div class="menu-dropdown" id="menuDropdown">
                <div class="menu-item active" onclick="switchTab('vocabulary')">ë‹¨ì–´ì¥</div>
                <div class="menu-item" onclick="switchTab('quiz')">í€´ì¦ˆ</div>
                <div class="menu-item" onclick="downloadHTML()">ë‹¤ìš´ë¡œë“œ</div>
            </div>
        </div>

        <!-- ìŠ¤í¬ë¡¤ í”„ë¡œê·¸ë ˆìŠ¤ ë°” -->
        <div class="scroll-progress" id="scrollProgress">
            <div class="scroll-progress-bar" id="scrollProgressBar"></div>
        </div>
        <div class="scroll-indicator" id="scrollIndicator">0 / 0</div>

        <div class="main-content">
            <!-- ë‹¨ì–´ì¥ íƒ­ -->
            <div id="vocabulary" class="tab-content active">
                <h2 style="font-size: 1.2rem; margin-bottom: 16px; color: #374151;">ì¸í„°ë™í‹°ë¸Œ ë‹¨ì–´ì¥</h2>
                
                <div class="mode-selector">
                    <button class="mode-btn active" onclick="switchMode('study')">
                        í•™ìŠµ ëª¨ë“œ (<span id="study-count">0</span>)
                    </button>
                    <button class="mode-btn" onclick="switchMode('known')">
                        ì•„ëŠ” ë‹¨ì–´ (<span id="known-count">0</span>)
                    </button>
                </div>

                <div id="study-mode">
                    <div class="level-selector">
                        <select class="filter-dropdown" id="levelFilter" onchange="filterLevel()" style="flex: 1;">
                            <option value="lesson">ìˆ˜ì—… ë‹¨ì–´</option>
                            <option value="n5n3">JLPT N5-N3</option>
                        </select>
                        <button class="bookmark-btn" onclick="goToBookmark()" title="ì±…ê°ˆí”¼ ìœ„ì¹˜ë¡œ ì´ë™">ğŸ“– ì±…ê°ˆí”¼</button>
                    </div>
                    <select class="filter-dropdown" id="categoryFilter" onchange="filterCategory()">
                        <option value="all">ì „ì²´ ë³´ê¸°</option>
                    </select>

                    <div class="stats-bar">
                        <div class="stat-item">
                            <div class="stat-value" id="totalWords">0</div>
                            <div class="stat-label">ì „ì²´</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="currentPosition">0</div>
                            <div class="stat-label">í˜„ì¬ ìœ„ì¹˜</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="learnedPercentage">0%</div>
                            <div class="stat-label">í•™ìŠµë¥ </div>
                        </div>
                    </div>

                    <div class="interactive-vocab-list" id="vocab-list" onscroll="updateScrollProgress()"></div>
                </div>

                <div id="known-mode" class="hidden">
                    <button class="action-btn" onclick="restoreAll()">ëª¨ë“  ë‹¨ì–´ ë˜ëŒë¦¬ê¸°</button>
                    <div class="known-words-grid" id="known-list"></div>
                </div>
            </div>

            <!-- í€´ì¦ˆ íƒ­ -->
            <div id="quiz" class="tab-content">
                <h2 style="font-size: 1.2rem; margin-bottom: 16px; color: #374151;">ë¬¸ì¥ í€´ì¦ˆ</h2>
                
                <div class="quiz-category-selector">
                    <button class="quiz-cat-btn active" onclick="switchQuizCategory('basic')">ê¸°ë³¸ ì˜ë¬¸ë¬¸</button>
                    <button class="quiz-cat-btn" onclick="switchQuizCategory('time')">ì‹œê°„ ê´€ë ¨</button>
                    <button class="quiz-cat-btn" onclick="switchQuizCategory('location')">ì¥ì†Œ/ì´ë™</button>
                    <button class="quiz-cat-btn" onclick="switchQuizCategory('daily')">ì¼ìƒ ëŒ€í™”</button>
                </div>

                <div class="quiz-content" id="quiz-content">
                    <div class="quiz-card" id="quiz-card">
                        <div class="quiz-question" id="quiz-question"></div>
                        <div class="quiz-furigana" id="quiz-furigana"></div>
                        <button class="show-answer-btn" onclick="toggleAnswer()">ë‹µ ë³´ê¸°</button>
                        <div class="quiz-answer hidden" id="quiz-answer"></div>
                    </div>
                    <div class="quiz-controls">
                        <button class="quiz-control-btn" onclick="previousQuestion()">ì´ì „</button>
                        <span class="quiz-progress" id="quiz-progress">1 / 10</span>
                        <button class="quiz-control-btn" onclick="nextQuestion()">ë‹¤ìŒ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë‚´ì¥ N5-N3 ë‹¨ì–´ ë°ì´í„° (ì „ì²´)
        const n5n3Vocabulary = {
            'ëª…ì‚¬_N5': [
                { jp: 'äºº', kr: 'ì‚¬ëŒ', furigana: 'ã²ã¨' },
                { jp: 'å­ä¾›', kr: 'ì•„ì´', furigana: 'ã“ã©ã‚‚' },
                { jp: 'å¥³', kr: 'ì—¬ì', furigana: 'ãŠã‚“ãª' },
                { jp: 'ç”·', kr: 'ë‚¨ì', furigana: 'ãŠã¨ã“' },
                { jp: 'åå‰', kr: 'ì´ë¦„', furigana: 'ãªã¾ãˆ' },
                { jp: 'æœ¬', kr: 'ì±…', furigana: 'ã»ã‚“' },
                { jp: 'æœº', kr: 'ì±…ìƒ', furigana: 'ã¤ããˆ' },
                { jp: 'æ¤…å­', kr: 'ì˜ì', furigana: 'ã„ã™' },
                { jp: 'éƒ¨å±‹', kr: 'ë°©', furigana: 'ã¸ã‚„' },
                { jp: 'æ•™å®¤', kr: 'êµì‹¤', furigana: 'ãã‚‡ã†ã—ã¤' },
                { jp: 'çª“', kr: 'ì°½ë¬¸', furigana: 'ã¾ã©' },
                { jp: 'ãƒ‰ã‚¢', kr: 'ë¬¸', furigana: null },
                { jp: 'é„', kr: 'ê°€ë°©', furigana: 'ã‹ã°ã‚“' },
                { jp: 'è²¡å¸ƒ', kr: 'ì§€ê°‘', furigana: 'ã•ã„ãµ' },
                { jp: 'å‚˜', kr: 'ìš°ì‚°', furigana: 'ã‹ã•' },
                { jp: 'éµ', kr: 'ì—´ì‡ ', furigana: 'ã‹ã' },
                { jp: 'æ™‚è¨ˆ', kr: 'ì‹œê³„', furigana: 'ã¨ã‘ã„' },
                { jp: 'å†™çœŸ', kr: 'ì‚¬ì§„', furigana: 'ã—ã‚ƒã—ã‚“' },
                { jp: 'é›»è©±', kr: 'ì „í™”', furigana: 'ã§ã‚“ã‚' },
                { jp: 'ãƒ†ãƒ¬ãƒ“', kr: 'TV', furigana: null },
                { jp: 'ãƒ‘ã‚½ã‚³ãƒ³', kr: 'ì»´í“¨í„°', furigana: null },
                { jp: 'æ–°è', kr: 'ì‹ ë¬¸', furigana: 'ã—ã‚“ã¶ã‚“' },
                { jp: 'é›‘èªŒ', kr: 'ì¡ì§€', furigana: 'ã–ã£ã—' },
                { jp: 'è¾æ›¸', kr: 'ì‚¬ì „', furigana: 'ã˜ã—ã‚‡' },
                { jp: 'ãƒšãƒ³', kr: 'íœ', furigana: null },
                { jp: 'é‰›ç­†', kr: 'ì—°í•„', furigana: 'ãˆã‚“ã´ã¤' },
                { jp: 'ãƒãƒ¼ãƒˆ', kr: 'ë…¸íŠ¸', furigana: null },
                { jp: 'ç´™', kr: 'ì¢…ì´', furigana: 'ã‹ã¿' },
                { jp: 'æ‰‹ç´™', kr: 'í¸ì§€', furigana: 'ã¦ãŒã¿' },
                { jp: 'åˆ‡æ‰‹', kr: 'ìš°í‘œ', furigana: 'ãã£ã¦' },
                { jp: 'åˆ‡ç¬¦', kr: 'í‘œ', furigana: 'ãã£ã·' },
                { jp: 'è·ç‰©', kr: 'ì§', furigana: 'ã«ã‚‚ã¤' },
                { jp: 'ç®±', kr: 'ìƒì', furigana: 'ã¯ã“' },
                { jp: 'èŠ±', kr: 'ê½ƒ', furigana: 'ã¯ãª' },
                { jp: 'æœ¨', kr: 'ë‚˜ë¬´', furigana: 'ã' },
                { jp: 'å±±', kr: 'ì‚°', furigana: 'ã‚„ã¾' },
                { jp: 'å·', kr: 'ê°•', furigana: 'ã‹ã‚' },
                { jp: 'æµ·', kr: 'ë°”ë‹¤', furigana: 'ã†ã¿' },
                { jp: 'ç©º', kr: 'í•˜ëŠ˜', furigana: 'ãã‚‰' },
                { jp: 'é›¨', kr: 'ë¹„', furigana: 'ã‚ã‚' },
                { jp: 'é›ª', kr: 'ëˆˆ', furigana: 'ã‚†ã' },
                { jp: 'é¢¨', kr: 'ë°”ëŒ', furigana: 'ã‹ãœ' },
                { jp: 'å¤©æ°—', kr: 'ë‚ ì”¨', furigana: 'ã¦ã‚“ã' },
                { jp: 'æœ', kr: 'ì•„ì¹¨', furigana: 'ã‚ã•' },
                { jp: 'æ˜¼', kr: 'ë‚®', furigana: 'ã²ã‚‹' },
                { jp: 'å¤•æ–¹', kr: 'ì €ë…', furigana: 'ã‚†ã†ãŒãŸ' },
                { jp: 'å¤œ', kr: 'ë°¤', furigana: 'ã‚ˆã‚‹' },
                { jp: 'ä»Šæ—¥', kr: 'ì˜¤ëŠ˜', furigana: 'ãã‚‡ã†' },
                { jp: 'æ˜¨æ—¥', kr: 'ì–´ì œ', furigana: 'ãã®ã†' },
                { jp: 'æ˜æ—¥', kr: 'ë‚´ì¼', furigana: 'ã‚ã—ãŸ' },
                { jp: 'ä»Šé€±', kr: 'ì´ë²ˆì£¼', furigana: 'ã“ã‚“ã—ã‚…ã†' },
                { jp: 'å…ˆé€±', kr: 'ì§€ë‚œì£¼', furigana: 'ã›ã‚“ã—ã‚…ã†' },
                { jp: 'æ¥é€±', kr: 'ë‹¤ìŒì£¼', furigana: 'ã‚‰ã„ã—ã‚…ã†' }
            ],
            'ë™ì‚¬_N5': [
                { jp: 'è¡Œã', kr: 'ê°€ë‹¤', furigana: 'ã„ã' },
                { jp: 'æ¥ã‚‹', kr: 'ì˜¤ë‹¤', furigana: 'ãã‚‹' },
                { jp: 'å¸°ã‚‹', kr: 'ëŒì•„ê°€ë‹¤', furigana: 'ã‹ãˆã‚‹' },
                { jp: 'æ­©ã', kr: 'ê±·ë‹¤', furigana: 'ã‚ã‚‹ã' },
                { jp: 'èµ°ã‚‹', kr: 'ë‹¬ë¦¬ë‹¤', furigana: 'ã¯ã—ã‚‹' },
                { jp: 'æ­¢ã¾ã‚‹', kr: 'ë©ˆì¶”ë‹¤', furigana: 'ã¨ã¾ã‚‹' },
                { jp: 'æ›²ãŒã‚‹', kr: 'ëŒë‹¤', furigana: 'ã¾ãŒã‚‹' },
                { jp: 'æ¸¡ã‚‹', kr: 'ê±´ë„ˆë‹¤', furigana: 'ã‚ãŸã‚‹' },
                { jp: 'ç™»ã‚‹', kr: 'ì˜¤ë¥´ë‹¤', furigana: 'ã®ã¼ã‚‹' },
                { jp: 'é™ã‚Šã‚‹', kr: 'ë‚´ë¦¬ë‹¤', furigana: 'ãŠã‚Šã‚‹' },
                { jp: 'å…¥ã‚‹', kr: 'ë“¤ì–´ê°€ë‹¤', furigana: 'ã¯ã„ã‚‹' },
                { jp: 'å‡ºã‚‹', kr: 'ë‚˜ê°€ë‹¤', furigana: 'ã§ã‚‹' },
                { jp: 'ç€ã', kr: 'ë„ì°©í•˜ë‹¤', furigana: 'ã¤ã' },
                { jp: 'å‡ºç™ºã™ã‚‹', kr: 'ì¶œë°œí•˜ë‹¤', furigana: 'ã—ã‚…ã£ã±ã¤ã™ã‚‹' },
                { jp: 'åˆ°ç€ã™ã‚‹', kr: 'ë„ì°©í•˜ë‹¤', furigana: 'ã¨ã†ã¡ã‚ƒãã™ã‚‹' },
                { jp: 'ä¹—ã‚‹', kr: 'íƒ€ë‹¤', furigana: 'ã®ã‚‹' },
                { jp: 'é‹è»¢ã™ã‚‹', kr: 'ìš´ì „í•˜ë‹¤', furigana: 'ã†ã‚“ã¦ã‚“ã™ã‚‹' },
                { jp: 'é£›ã¶', kr: 'ë‚ ë‹¤', furigana: 'ã¨ã¶' },
                { jp: 'æ³³ã', kr: 'ìˆ˜ì˜í•˜ë‹¤', furigana: 'ãŠã‚ˆã' },
                { jp: 'è¦‹ã‚‹', kr: 'ë³´ë‹¤', furigana: 'ã¿ã‚‹' },
                { jp: 'è¦‹ãˆã‚‹', kr: 'ë³´ì´ë‹¤', furigana: 'ã¿ãˆã‚‹' },
                { jp: 'èã', kr: 'ë“£ë‹¤', furigana: 'ãã' },
                { jp: 'èã“ãˆã‚‹', kr: 'ë“¤ë¦¬ë‹¤', furigana: 'ãã“ãˆã‚‹' },
                { jp: 'è¨€ã†', kr: 'ë§í•˜ë‹¤', furigana: 'ã„ã†' },
                { jp: 'è©±ã™', kr: 'ì´ì•¼ê¸°í•˜ë‹¤', furigana: 'ã¯ãªã™' },
                { jp: 'ç­”ãˆã‚‹', kr: 'ëŒ€ë‹µí•˜ë‹¤', furigana: 'ã“ãŸãˆã‚‹' },
                { jp: 'æ•™ãˆã‚‹', kr: 'ê°€ë¥´ì¹˜ë‹¤', furigana: 'ãŠã—ãˆã‚‹' },
                { jp: 'ç¿’ã†', kr: 'ë°°ìš°ë‹¤', furigana: 'ãªã‚‰ã†' },
                { jp: 'è¦šãˆã‚‹', kr: 'ì™¸ìš°ë‹¤', furigana: 'ãŠã¼ãˆã‚‹' },
                { jp: 'å¿˜ã‚Œã‚‹', kr: 'ìŠë‹¤', furigana: 'ã‚ã™ã‚Œã‚‹' },
                { jp: 'æ€ã†', kr: 'ìƒê°í•˜ë‹¤', furigana: 'ãŠã‚‚ã†' },
                { jp: 'è€ƒãˆã‚‹', kr: 'ìƒê°í•˜ë‹¤', furigana: 'ã‹ã‚“ãŒãˆã‚‹' },
                { jp: 'çŸ¥ã‚‹', kr: 'ì•Œë‹¤', furigana: 'ã—ã‚‹' },
                { jp: 'åˆ†ã‹ã‚‹', kr: 'ì•Œë‹¤/ì´í•´í•˜ë‹¤', furigana: 'ã‚ã‹ã‚‹' },
                { jp: 'é£Ÿã¹ã‚‹', kr: 'ë¨¹ë‹¤', furigana: 'ãŸã¹ã‚‹' },
                { jp: 'é£²ã‚€', kr: 'ë§ˆì‹œë‹¤', furigana: 'ã®ã‚€' },
                { jp: 'å¸ã†', kr: 'ë¹¨ë‹¤/í”¼ìš°ë‹¤', furigana: 'ã™ã†' },
                { jp: 'å™›ã‚€', kr: 'ì”¹ë‹¤', furigana: 'ã‹ã‚€' },
                { jp: 'æ–™ç†ã™ã‚‹', kr: 'ìš”ë¦¬í•˜ë‹¤', furigana: 'ã‚Šã‚‡ã†ã‚Šã™ã‚‹' },
                { jp: 'ä½œã‚‹', kr: 'ë§Œë“¤ë‹¤', furigana: 'ã¤ãã‚‹' },
                { jp: 'ç„¼ã', kr: 'êµ½ë‹¤', furigana: 'ã‚„ã' },
                { jp: 'ç…®ã‚‹', kr: 'ë“ì´ë‹¤', furigana: 'ã«ã‚‹' },
                { jp: 'åˆ‡ã‚‹', kr: 'ìë¥´ë‹¤', furigana: 'ãã‚‹' },
                { jp: 'æ··ãœã‚‹', kr: 'ì„ë‹¤', furigana: 'ã¾ãœã‚‹' },
                { jp: 'æ´—ã†', kr: 'ì”»ë‹¤', furigana: 'ã‚ã‚‰ã†' },
                { jp: 'æ‹­ã', kr: 'ë‹¦ë‹¤', furigana: 'ãµã' },
                { jp: 'æƒé™¤ã™ã‚‹', kr: 'ì²­ì†Œí•˜ë‹¤', furigana: 'ãã†ã˜ã™ã‚‹' },
                { jp: 'ç‰‡ä»˜ã‘ã‚‹', kr: 'ì •ë¦¬í•˜ë‹¤', furigana: 'ã‹ãŸã¥ã‘ã‚‹' },
                { jp: 'æ¨ã¦ã‚‹', kr: 'ë²„ë¦¬ë‹¤', furigana: 'ã™ã¦ã‚‹' }
            ],
            'ã„í˜•ìš©ì‚¬_N5': [
                { jp: 'å¤§ãã„', kr: 'í¬ë‹¤', furigana: 'ãŠãŠãã„' },
                { jp: 'å°ã•ã„', kr: 'ì‘ë‹¤', furigana: 'ã¡ã„ã•ã„' },
                { jp: 'å¤šã„', kr: 'ë§ë‹¤', furigana: 'ãŠãŠã„' },
                { jp: 'å°‘ãªã„', kr: 'ì ë‹¤', furigana: 'ã™ããªã„' },
                { jp: 'é•·ã„', kr: 'ê¸¸ë‹¤', furigana: 'ãªãŒã„' },
                { jp: 'çŸ­ã„', kr: 'ì§§ë‹¤', furigana: 'ã¿ã˜ã‹ã„' },
                { jp: 'é«˜ã„', kr: 'ë†’ë‹¤/ë¹„ì‹¸ë‹¤', furigana: 'ãŸã‹ã„' },
                { jp: 'ä½ã„', kr: 'ë‚®ë‹¤', furigana: 'ã²ãã„' },
                { jp: 'å®‰ã„', kr: 'ì‹¸ë‹¤', furigana: 'ã‚„ã™ã„' },
                { jp: 'æ–°ã—ã„', kr: 'ìƒˆë¡­ë‹¤', furigana: 'ã‚ãŸã‚‰ã—ã„' },
                { jp: 'å¤ã„', kr: 'ì˜¤ë˜ë˜ë‹¤', furigana: 'ãµã‚‹ã„' },
                { jp: 'è‹¥ã„', kr: 'ì Šë‹¤', furigana: 'ã‚ã‹ã„' },
                { jp: 'è‰¯ã„', kr: 'ì¢‹ë‹¤', furigana: 'ã‚ˆã„/ã„ã„' },
                { jp: 'æ‚ªã„', kr: 'ë‚˜ì˜ë‹¤', furigana: 'ã‚ã‚‹ã„' },
                { jp: 'åºƒã„', kr: 'ë„“ë‹¤', furigana: 'ã²ã‚ã„' },
                { jp: 'ç‹­ã„', kr: 'ì¢ë‹¤', furigana: 'ã›ã¾ã„' },
                { jp: 'å¤ªã„', kr: 'êµµë‹¤', furigana: 'ãµã¨ã„' },
                { jp: 'ç´°ã„', kr: 'ê°€ëŠ˜ë‹¤', furigana: 'ã»ãã„' },
                { jp: 'åšã„', kr: 'ë‘ê»ë‹¤', furigana: 'ã‚ã¤ã„' },
                { jp: 'è–„ã„', kr: 'ì–‡ë‹¤', furigana: 'ã†ã™ã„' },
                { jp: 'é‡ã„', kr: 'ë¬´ê²ë‹¤', furigana: 'ãŠã‚‚ã„' },
                { jp: 'è»½ã„', kr: 'ê°€ë³ë‹¤', furigana: 'ã‹ã‚‹ã„' },
                { jp: 'å¼·ã„', kr: 'ê°•í•˜ë‹¤', furigana: 'ã¤ã‚ˆã„' },
                { jp: 'å¼±ã„', kr: 'ì•½í•˜ë‹¤', furigana: 'ã‚ˆã‚ã„' },
                { jp: 'å›ºã„', kr: 'ë‹¨ë‹¨í•˜ë‹¤', furigana: 'ã‹ãŸã„' },
                { jp: 'æŸ”ã‚‰ã‹ã„', kr: 'ë¶€ë“œëŸ½ë‹¤', furigana: 'ã‚„ã‚ã‚‰ã‹ã„' },
                { jp: 'ç†±ã„', kr: 'ëœ¨ê²ë‹¤', furigana: 'ã‚ã¤ã„' },
                { jp: 'å†·ãŸã„', kr: 'ì°¨ê°‘ë‹¤', furigana: 'ã¤ã‚ãŸã„' },
                { jp: 'æš–ã‹ã„', kr: 'ë”°ëœ»í•˜ë‹¤', furigana: 'ã‚ãŸãŸã‹ã„' },
                { jp: 'æ¶¼ã—ã„', kr: 'ì‹œì›í•˜ë‹¤', furigana: 'ã™ãšã—ã„' }
            ],
            'ãªí˜•ìš©ì‚¬_N5': [
                { jp: 'å¥½ãã ', kr: 'ì¢‹ì•„í•˜ë‹¤', furigana: 'ã™ãã ' },
                { jp: 'å«Œã„ã ', kr: 'ì‹«ì–´í•˜ë‹¤', furigana: 'ãã‚‰ã„ã ' },
                { jp: 'é™ã‹ã ', kr: 'ì¡°ìš©í•˜ë‹¤', furigana: 'ã—ãšã‹ã ' },
                { jp: 'ä¾¿åˆ©ã ', kr: 'í¸ë¦¬í•˜ë‹¤', furigana: 'ã¹ã‚“ã‚Šã ' },
                { jp: 'å…ƒæ°—ã ', kr: 'ê±´ê°•í•˜ë‹¤', furigana: 'ã’ã‚“ãã ' },
                { jp: 'ç¶ºéº—ã ', kr: 'ì•„ë¦„ë‹µë‹¤/ê¹¨ë—í•˜ë‹¤', furigana: 'ãã‚Œã„ã ' },
                { jp: 'å®‰å…¨ã ', kr: 'ì•ˆì „í•˜ë‹¤', furigana: 'ã‚ã‚“ãœã‚“ã ' },
                { jp: 'æœ‰åã ', kr: 'ìœ ëª…í•˜ë‹¤', furigana: 'ã‚†ã†ã‚ã„ã ' },
                { jp: 'å¤§åˆ‡ã ', kr: 'ì†Œì¤‘í•˜ë‹¤', furigana: 'ãŸã„ã›ã¤ã ' },
                { jp: 'ç°¡å˜ã ', kr: 'ê°„ë‹¨í•˜ë‹¤', furigana: 'ã‹ã‚“ãŸã‚“ã ' },
                { jp: 'å¤§å¤‰ã ', kr: 'í˜ë“¤ë‹¤', furigana: 'ãŸã„ã¸ã‚“ã ' },
                { jp: 'ä¸Šæ‰‹ã ', kr: 'ì˜í•˜ë‹¤', furigana: 'ã˜ã‚‡ã†ãšã ' },
                { jp: 'ä¸‹æ‰‹ã ', kr: 'ëª»í•˜ë‹¤', furigana: 'ã¸ãŸã ' },
                { jp: 'è¦ªåˆ‡ã ', kr: 'ì¹œì ˆí•˜ë‹¤', furigana: 'ã—ã‚“ã›ã¤ã ' },
                { jp: 'ä¸ˆå¤«ã ', kr: 'íŠ¼íŠ¼í•˜ë‹¤', furigana: 'ã˜ã‚‡ã†ã¶ã ' },
                { jp: 'å¥åº·ã ', kr: 'ê±´ê°•í•˜ë‹¤', furigana: 'ã‘ã‚“ã“ã†ã ' },
                { jp: 'ç—…æ°—ã ', kr: 'ì•„í”„ë‹¤', furigana: 'ã³ã‚‡ã†ãã ' },
                { jp: 'æš‡ã ', kr: 'í•œê°€í•˜ë‹¤', furigana: 'ã²ã¾ã ' },
                { jp: 'å¿…è¦ã ', kr: 'í•„ìš”í•˜ë‹¤', furigana: 'ã²ã¤ã‚ˆã†ã ' },
                { jp: 'å¤§äº‹ã ', kr: 'ì¤‘ìš”í•˜ë‹¤', furigana: 'ã ã„ã˜ã ' }
            ],
            'ë¶€ì‚¬_N5': [
                { jp: 'ã„ã¤ã‚‚', kr: 'í•­ìƒ', furigana: null },
                { jp: 'ã‚ˆã', kr: 'ìì£¼/ì˜', furigana: null },
                { jp: 'ãŸã„ã¦ã„', kr: 'ëŒ€ê°œ', furigana: null },
                { jp: 'æ™‚ã€…', kr: 'ë•Œë•Œë¡œ', furigana: 'ã¨ãã©ã' },
                { jp: 'ãŸã¾ã«', kr: 'ê°€ë”', furigana: null },
                { jp: 'ã‚ã¾ã‚Š', kr: 'ë³„ë¡œ(ë¶€ì •)', furigana: null },
                { jp: 'å…¨ç„¶', kr: 'ì „í˜€(ë¶€ì •)', furigana: 'ãœã‚“ãœã‚“' },
                { jp: 'ã¨ã¦ã‚‚', kr: 'ë§¤ìš°', furigana: null },
                { jp: 'ã™ã”ã', kr: 'ì—„ì²­', furigana: null },
                { jp: 'å¤§å¤‰', kr: 'ë§¤ìš°/í˜ë“¤ê²Œ', furigana: 'ãŸã„ã¸ã‚“' },
                { jp: 'ã¡ã‚‡ã£ã¨', kr: 'ì¡°ê¸ˆ', furigana: null },
                { jp: 'å°‘ã—', kr: 'ì¡°ê¸ˆ', furigana: 'ã™ã“ã—' },
                { jp: 'ãŸãã•ã‚“', kr: 'ë§ì´', furigana: null },
                { jp: 'ã‚‚ã£ã¨', kr: 'ë”', furigana: null },
                { jp: 'ä¸€ç•ª', kr: 'ê°€ì¥', furigana: 'ã„ã¡ã°ã‚“' },
                { jp: 'ã ã„ãŸã„', kr: 'ëŒ€ëµ', furigana: null },
                { jp: 'ã»ã¨ã‚“ã©', kr: 'ê±°ì˜', furigana: null },
                { jp: 'å…¨éƒ¨', kr: 'ì „ë¶€', furigana: 'ãœã‚“ã¶' },
                { jp: 'ã¿ã‚“ãª', kr: 'ëª¨ë‘', furigana: null },
                { jp: 'ä¸€ç·’ã«', kr: 'í•¨ê»˜', furigana: 'ã„ã£ã—ã‚‡ã«' }
            ]
        };

        // ìˆ˜ì—… ë‹¨ì–´ ë°ì´í„°
        const lessonVocabulary = {
            'ëª…ì‚¬': [
                { jp: 'ã“ã‚Œ', kr: 'ì´ê²ƒ', furigana: null },
                { jp: 'ãã‚Œ', kr: 'ê·¸ê²ƒ', furigana: null },
                { jp: 'ç§', kr: 'ì €/ë‚˜', furigana: 'ã‚ãŸã—' },
                { jp: 'æœ¬', kr: 'ì±…', furigana: 'ã»ã‚“' },
                { jp: 'æœº', kr: 'ì±…ìƒ', furigana: 'ã¤ããˆ' },
                { jp: 'æ™‚è¨ˆ', kr: 'ì‹œê³„', furigana: 'ã¨ã‘ã„' },
                { jp: 'é›»è»Š', kr: 'ì „ì² ', furigana: 'ã§ã‚“ã—ã‚ƒ' },
                { jp: 'å­¦æ ¡', kr: 'í•™êµ', furigana: 'ãŒã£ã“ã†' },
                { jp: 'ä¼šç¤¾', kr: 'íšŒì‚¬', furigana: 'ã‹ã„ã—ã‚ƒ' },
                { jp: 'å®¶', kr: 'ì§‘', furigana: 'ã„ãˆ' },
                { jp: 'æ–™ç†', kr: 'ìš”ë¦¬', furigana: 'ã‚Šã‚‡ã†ã‚Š' },
                { jp: 'ä»•äº‹', kr: 'ì¼, ì§ì—…', furigana: 'ã—ã”ã¨' },
                { jp: 'çµå©š', kr: 'ê²°í˜¼', furigana: 'ã‘ã£ã“ã‚“' },
                { jp: 'æ‹æ„›', kr: 'ì—°ì• ', furigana: 'ã‚Œã‚“ã‚ã„' },
                { jp: 'æ‰‹ç´™', kr: 'í¸ì§€', furigana: 'ã¦ãŒã¿' },
                { jp: 'ãŠé‡‘', kr: 'ëˆ', furigana: 'ãŠã‹ã­' },
                { jp: 'æ˜ ç”»', kr: 'ì˜í™”', furigana: 'ãˆã„ãŒ' },
                { jp: 'éŸ³æ¥½', kr: 'ìŒì•…', furigana: 'ãŠã‚“ãŒã' },
                { jp: 'æ—¥è¨˜', kr: 'ì¼ê¸°', furigana: 'ã«ã£ã' },
                { jp: 'è©±', kr: 'ì´ì•¼ê¸°', furigana: 'ã¯ãªã—' },
                { jp: 'å¤œä¸­', kr: 'í•œë°¤ì¤‘', furigana: 'ã‚ˆãªã‹' },
                { jp: 'ãƒã‚¹', kr: 'ë²„ìŠ¤', furigana: null },
                { jp: 'ã‚¿ã‚¯ã‚·ãƒ¼', kr: 'íƒì‹œ', furigana: null },
                { jp: 'åœ°ä¸‹é‰„', kr: 'ì§€í•˜ì² ', furigana: 'ã¡ã‹ã¦ã¤' },
                { jp: 'è‡ªè»¢è»Š', kr: 'ìì „ê±°', furigana: 'ã˜ã¦ã‚“ã—ã‚ƒ' },
                { jp: 'é£›è¡Œæ©Ÿ', kr: 'ë¹„í–‰ê¸°', furigana: 'ã²ã“ã†ã' },
                { jp: 'è»Š', kr: 'ìë™ì°¨', furigana: 'ãã‚‹ã¾' },
                { jp: 'èˆ¹', kr: 'ë°°', furigana: 'ãµã­' },
                { jp: 'æ˜¥', kr: 'ë´„', furigana: 'ã¯ã‚‹' },
                { jp: 'å¤', kr: 'ì—¬ë¦„', furigana: 'ãªã¤' },
                { jp: 'ç§‹', kr: 'ê°€ì„', furigana: 'ã‚ã' },
                { jp: 'å†¬', kr: 'ê²¨ìš¸', furigana: 'ãµã‚†' },
                { jp: 'æœ', kr: 'ì•„ì¹¨', furigana: 'ã‚ã•' },
                { jp: 'æ˜¼', kr: 'ë‚®', furigana: 'ã²ã‚‹' },
                { jp: 'å¤œ', kr: 'ì €ë…, ë°¤', furigana: 'ã‚ˆã‚‹' },
                { jp: 'ç”·', kr: 'ë‚¨ì', furigana: 'ãŠã¨ã“' },
                { jp: 'å¥³', kr: 'ì—¬ì', furigana: 'ãŠã‚“ãª' },
                { jp: 'çŠ¬', kr: 'ê°œ', furigana: 'ã„ã¬' },
                { jp: 'çŒ«', kr: 'ê³ ì–‘ì´', furigana: 'ã­ã“' },
                { jp: 'äºº', kr: 'ì‚¬ëŒ', furigana: 'ã²ã¨' },
                { jp: 'å…ˆç”Ÿ', kr: 'ì„ ìƒë‹˜', furigana: 'ã›ã‚“ã›ã„' },
                { jp: 'å­¦ç”Ÿ', kr: 'í•™ìƒ', furigana: 'ãŒãã›ã„' },
                { jp: 'ä¼šç¤¾å“¡', kr: 'íšŒì‚¬ì›', furigana: 'ã‹ã„ã—ã‚ƒã„ã‚“' },
                { jp: 'åŒ»è€…', kr: 'ì˜ì‚¬', furigana: 'ã„ã—ã‚ƒ' },
                { jp: 'æ­Œæ‰‹', kr: 'ê°€ìˆ˜', furigana: 'ã‹ã—ã‚…' }
            ],
            'ë™ì‚¬': [
                { jp: 'é£Ÿã¹ã‚‹', kr: 'ë¨¹ë‹¤', furigana: 'ãŸã¹ã‚‹' },
                { jp: 'é£²ã‚€', kr: 'ë§ˆì‹œë‹¤', furigana: 'ã®ã‚€' },
                { jp: 'è¦‹ã‚‹', kr: 'ë³´ë‹¤', furigana: 'ã¿ã‚‹' },
                { jp: 'è¡Œã', kr: 'ê°€ë‹¤', furigana: 'ã„ã' },
                { jp: 'æ¥ã‚‹', kr: 'ì˜¤ë‹¤', furigana: 'ãã‚‹' },
                { jp: 'èª­ã‚€', kr: 'ì½ë‹¤', furigana: 'ã‚ˆã‚€' },
                { jp: 'æ›¸ã', kr: 'ì“°ë‹¤', furigana: 'ã‹ã' },
                { jp: 'è©±ã™', kr: 'ë§í•˜ë‹¤', furigana: 'ã¯ãªã™' },
                { jp: 'èã', kr: 'ë“£ë‹¤', furigana: 'ãã' },
                { jp: 'ä½œã‚‹', kr: 'ë§Œë“¤ë‹¤', furigana: 'ã¤ãã‚‹' },
                { jp: 'ä¹—ã‚‹', kr: 'íƒ€ë‹¤', furigana: 'ã®ã‚‹' },
                { jp: 'è²·ã†', kr: 'ì‚¬ë‹¤', furigana: 'ã‹ã†' },
                { jp: 'å£²ã‚‹', kr: 'íŒ”ë‹¤', furigana: 'ã†ã‚‹' },
                { jp: 'éŠã¶', kr: 'ë†€ë‹¤', furigana: 'ã‚ãã¶' },
                { jp: 'é™ã‚Šã‚‹', kr: 'ë‚´ë¦¬ë‹¤', furigana: 'ãŠã‚Šã‚‹' },
                { jp: 'å¯ã‚‹', kr: 'ìë‹¤', furigana: 'ã­ã‚‹' },
                { jp: 'è¨€ã†', kr: 'ë§í•˜ë‹¤', furigana: 'ã„ã†' },
                { jp: 'ä¼šã†', kr: 'ë§Œë‚˜ë‹¤', furigana: 'ã‚ã†' },
                { jp: 'ã™ã‚‹', kr: 'í•˜ë‹¤', furigana: null },
                { jp: 'å‹‰å¼·ã™ã‚‹', kr: 'ê³µë¶€í•˜ë‹¤', furigana: 'ã¹ã‚“ãã‚‡ã†ã™ã‚‹' },
                { jp: 'é‹è»¢ã™ã‚‹', kr: 'ìš´ì „í•˜ë‹¤', furigana: 'ã†ã‚“ã¦ã‚“ã™ã‚‹' }
            ],
            'ã„í˜•ìš©ì‚¬': [
                { jp: 'ç¾å‘³ã—ã„', kr: 'ë§›ìˆë‹¤', furigana: 'ãŠã„ã—ã„' },
                { jp: 'æ¥½ã—ã„', kr: 'ì¦ê²ë‹¤', furigana: 'ãŸã®ã—ã„' },
                { jp: 'æ–°ã—ã„', kr: 'ìƒˆë¡­ë‹¤', furigana: 'ã‚ãŸã‚‰ã—ã„' },
                { jp: 'å¤ã„', kr: 'ì˜¤ë˜ë˜ë‹¤', furigana: 'ãµã‚‹ã„' },
                { jp: 'é«˜ã„', kr: 'ë†’ë‹¤/ë¹„ì‹¸ë‹¤', furigana: 'ãŸã‹ã„' },
                { jp: 'å®‰ã„', kr: 'ì‹¸ë‹¤', furigana: 'ã‚„ã™ã„' },
                { jp: 'ç—›ã„', kr: 'ì•„í”„ë‹¤', furigana: 'ã„ãŸã„' },
                { jp: 'é¢ç™½ã„', kr: 'ì¬ë°Œë‹¤', furigana: 'ãŠã‚‚ã—ã‚ã„' },
                { jp: 'å¯æ„›ã„', kr: 'ê·€ì—½ë‹¤', furigana: 'ã‹ã‚ã„ã„' },
                { jp: 'ã‹ã£ã“ã„ã„', kr: 'ë©‹ìˆë‹¤', furigana: null },
                { jp: 'å¯’ã„', kr: 'ì¶¥ë‹¤', furigana: 'ã•ã‚€ã„' },
                { jp: 'æš‘ã„', kr: 'ë¥ë‹¤', furigana: 'ã‚ã¤ã„' },
                { jp: 'å¿™ã—ã„', kr: 'ë°”ì˜ë‹¤', furigana: 'ã„ããŒã—ã„' },
                { jp: 'æš–ã‹ã„', kr: 'ë”°ëœ»í•˜ë‹¤', furigana: 'ã‚ãŸãŸã‹ã„' }
            ],
            'ãªí˜•ìš©ì‚¬': [
                { jp: 'å¥½ãã ', kr: 'ì¢‹ì•„í•˜ë‹¤', furigana: 'ã™ãã ' },
                { jp: 'å«Œã„ã ', kr: 'ì‹«ì–´í•˜ë‹¤', furigana: 'ãã‚‰ã„ã ' },
                { jp: 'é™ã‹ã ', kr: 'ì¡°ìš©í•˜ë‹¤', furigana: 'ã—ãšã‹ã ' },
                { jp: 'ä¾¿åˆ©ã ', kr: 'í¸ë¦¬í•˜ë‹¤', furigana: 'ã¹ã‚“ã‚Šã ' },
                { jp: 'å…ƒæ°—ã ', kr: 'ê±´ê°•í•˜ë‹¤', furigana: 'ã’ã‚“ãã ' },
                { jp: 'ç¶ºéº—ã ', kr: 'ì•„ë¦„ë‹µë‹¤', furigana: 'ãã‚Œã„ã ' },
                { jp: 'å®‰å…¨ã ', kr: 'ì•ˆì „í•˜ë‹¤', furigana: 'ã‚ã‚“ãœã‚“ã ' },
                { jp: 'æœ‰åã ', kr: 'ìœ ëª…í•˜ë‹¤', furigana: 'ã‚†ã†ã‚ã„ã ' },
                { jp: 'å¤§åˆ‡ã ', kr: 'ì†Œì¤‘í•˜ë‹¤', furigana: 'ãŸã„ã›ã¤ã ' },
                { jp: 'ç°¡å˜ã ', kr: 'ê°„ë‹¨í•˜ë‹¤', furigana: 'ã‹ã‚“ãŸã‚“ã ' }
            ],
            'ë¶€ì‚¬': [
                { jp: 'ã¨ã¦ã‚‚', kr: 'ë§¤ìš°', furigana: null },
                { jp: 'ã¡ã‚‡ã£ã¨', kr: 'ì¡°ê¸ˆ', furigana: null },
                { jp: 'ã‚‚ã†', kr: 'ë²Œì¨/ì´ì œ', furigana: null },
                { jp: 'ã¾ã ', kr: 'ì•„ì§', furigana: null },
                { jp: 'ã‚ˆã', kr: 'ìì£¼/ì˜', furigana: null },
                { jp: 'ã„ã¤ã‚‚', kr: 'í•­ìƒ', furigana: null },
                { jp: 'ã¨ãã©ã', kr: 'ë•Œë•Œë¡œ', furigana: null },
                { jp: 'ã™ã', kr: 'ê³§', furigana: null },
                { jp: 'å¿…ãš', kr: 'ê¼­, ë°˜ë“œì‹œ', furigana: 'ã‹ãªã‚‰ãš' },
                { jp: 'ã¨ã‚Šã‚ãˆãš', kr: 'ì¼ë‹¨', furigana: null }
            ],
            'ìˆ«ì': [
                { jp: 'ä¸€', kr: '1', furigana: 'ã„ã¡' },
                { jp: 'äºŒ', kr: '2', furigana: 'ã«' },
                { jp: 'ä¸‰', kr: '3', furigana: 'ã•ã‚“' },
                { jp: 'å››', kr: '4', furigana: 'ã‚ˆã‚“/ã—' },
                { jp: 'äº”', kr: '5', furigana: 'ã”' },
                { jp: 'å…­', kr: '6', furigana: 'ã‚ã' },
                { jp: 'ä¸ƒ', kr: '7', furigana: 'ãªãª/ã—ã¡' },
                { jp: 'å…«', kr: '8', furigana: 'ã¯ã¡' },
                { jp: 'ä¹', kr: '9', furigana: 'ãã‚…ã†/ã' },
                { jp: 'å', kr: '10', furigana: 'ã˜ã‚…ã†' }
            ],
            'ìƒ‰ê¹”': [
                { jp: 'èµ¤', kr: 'ë¹¨ê°•', furigana: 'ã‚ã‹' },
                { jp: 'é’', kr: 'íŒŒë‘', furigana: 'ã‚ãŠ' },
                { jp: 'é»’', kr: 'ê²€ì •', furigana: 'ãã‚' },
                { jp: 'ç™½', kr: 'í•˜ì–‘', furigana: 'ã—ã‚' },
                { jp: 'ç·‘', kr: 'ë…¹ìƒ‰', furigana: 'ã¿ã©ã‚Š' },
                { jp: 'ç´«', kr: 'ë³´ë¼ìƒ‰', furigana: 'ã‚€ã‚‰ã•ã' },
                { jp: 'é»„è‰²', kr: 'ë…¸ë€ìƒ‰', furigana: 'ãã„ã‚' },
                { jp: 'èŒ¶è‰²', kr: 'ê°ˆìƒ‰', furigana: 'ã¡ã‚ƒã„ã‚' },
                { jp: 'ãƒ”ãƒ³ã‚¯', kr: 'ë¶„í™ìƒ‰', furigana: null },
                { jp: 'ç°è‰²', kr: 'íšŒìƒ‰', furigana: 'ã¯ã„ã„ã‚' }
            ],
            'ê³¼ì¼': [
                { jp: 'ã‚Šã‚“ã”', kr: 'ì‚¬ê³¼', furigana: null },
                { jp: 'ã„ã¡ã”', kr: 'ë”¸ê¸°', furigana: null },
                { jp: 'ã™ã„ã‹', kr: 'ìˆ˜ë°•', furigana: null },
                { jp: 'ã¶ã©ã†', kr: 'í¬ë„', furigana: null },
                { jp: 'ã‚‚ã‚‚', kr: 'ë³µìˆ­ì•„', furigana: null },
                { jp: 'ãƒ¡ãƒ­ãƒ³', kr: 'ë©œë¡ ', furigana: null },
                { jp: 'ãƒãƒŠãƒŠ', kr: 'ë°”ë‚˜ë‚˜', furigana: null },
                { jp: 'ã¿ã‹ã‚“', kr: 'ê·¤', furigana: null },
                { jp: 'ãªã—', kr: 'ë°°', furigana: null },
                { jp: 'ã‹ã', kr: 'ê°', furigana: null }
            ],
            'ìŒì‹': [
                { jp: 'ãˆã ã¾ã‚', kr: 'ìë£¨ì½©', furigana: null },
                { jp: 'ãŸã“ã‚ã•ã³', kr: 'ë¬¸ì–´ì™€ì‚¬ë¹„', furigana: null },
                { jp: 'ã‹ã‚‰ã‚ã’', kr: 'ì¹˜í‚¨', furigana: null },
                { jp: 'ã‚„ãã¨ã‚Š', kr: 'ê¼¬ì¹˜êµ¬ì´', furigana: null },
                { jp: 'ä¸²ã‹ã¤', kr: 'ê¼¬ì¹˜íŠ€ê¹€', furigana: 'ãã—ã‹ã¤' },
                { jp: 'ã‚„ãã«ã', kr: 'ì•¼í‚¤ë‹ˆì¿ ', furigana: null },
                { jp: 'ãŠã¤ã¾ã¿', kr: 'ì•ˆì£¼', furigana: null },
                { jp: 'ç‰›ä¹³', kr: 'ìš°ìœ ', furigana: 'ãã‚…ã†ã«ã‚…ã†' },
                { jp: 'ãƒŸãƒ«ã‚¯', kr: 'ë°€í¬', furigana: null }
            ],
            'ì‹œê°„': [
                { jp: 'ä¸€æ™‚', kr: '1ì‹œ', furigana: 'ã„ã¡ã˜' },
                { jp: 'äºŒæ™‚', kr: '2ì‹œ', furigana: 'ã«ã˜' },
                { jp: 'ä¸‰æ™‚', kr: '3ì‹œ', furigana: 'ã•ã‚“ã˜' },
                { jp: 'å››æ™‚', kr: '4ì‹œ', furigana: 'ã‚ˆã˜' },
                { jp: 'äº”æ™‚', kr: '5ì‹œ', furigana: 'ã”ã˜' },
                { jp: 'å…­æ™‚', kr: '6ì‹œ', furigana: 'ã‚ãã˜' },
                { jp: 'ä¸ƒæ™‚', kr: '7ì‹œ', furigana: 'ã—ã¡ã˜' },
                { jp: 'å…«æ™‚', kr: '8ì‹œ', furigana: 'ã¯ã¡ã˜' },
                { jp: 'ä¹æ™‚', kr: '9ì‹œ', furigana: 'ãã˜' },
                { jp: 'åæ™‚', kr: '10ì‹œ', furigana: 'ã˜ã‚…ã†ã˜' },
                { jp: 'åä¸€æ™‚', kr: '11ì‹œ', furigana: 'ã˜ã‚…ã†ã„ã¡ã˜' },
                { jp: 'åäºŒæ™‚', kr: '12ì‹œ', furigana: 'ã˜ã‚…ã†ã«ã˜' },
                { jp: 'ä»Š', kr: 'ì§€ê¸ˆ', furigana: 'ã„ã¾' },
                { jp: 'æ˜æ—¥', kr: 'ë‚´ì¼', furigana: 'ã‚ã—ãŸ' },
                { jp: 'æ˜¨æ—¥', kr: 'ì–´ì œ', furigana: 'ãã®ã†' },
                { jp: 'ãŠã¨ã¨ã„', kr: 'ê·¸ì œ', furigana: null },
                { jp: 'ä»Šæ—¥', kr: 'ì˜¤ëŠ˜', furigana: 'ãã‚‡ã†' }
            ],
            'ì›”': [
                { jp: 'ä¸€æœˆ', kr: '1ì›”', furigana: 'ã„ã¡ãŒã¤' },
                { jp: 'äºŒæœˆ', kr: '2ì›”', furigana: 'ã«ãŒã¤' },
                { jp: 'ä¸‰æœˆ', kr: '3ì›”', furigana: 'ã•ã‚“ãŒã¤' },
                { jp: 'å››æœˆ', kr: '4ì›”', furigana: 'ã—ãŒã¤' },
                { jp: 'äº”æœˆ', kr: '5ì›”', furigana: 'ã”ãŒã¤' },
                { jp: 'å…­æœˆ', kr: '6ì›”', furigana: 'ã‚ããŒã¤' },
                { jp: 'ä¸ƒæœˆ', kr: '7ì›”', furigana: 'ã—ã¡ãŒã¤' },
                { jp: 'å…«æœˆ', kr: '8ì›”', furigana: 'ã¯ã¡ãŒã¤' },
                { jp: 'ä¹æœˆ', kr: '9ì›”', furigana: 'ããŒã¤' },
                { jp: 'åæœˆ', kr: '10ì›”', furigana: 'ã˜ã‚…ã†ãŒã¤' },
                { jp: 'åä¸€æœˆ', kr: '11ì›”', furigana: 'ã˜ã‚…ã†ã„ã¡ãŒã¤' },
                { jp: 'åäºŒæœˆ', kr: '12ì›”', furigana: 'ã˜ã‚…ã†ã«ãŒã¤' }
            ],
            'ìš”ì¼': [
                { jp: 'æœˆæ›œæ—¥', kr: 'ì›”ìš”ì¼', furigana: 'ã’ã¤ã‚ˆã†ã³' },
                { jp: 'ç«æ›œæ—¥', kr: 'í™”ìš”ì¼', furigana: 'ã‹ã‚ˆã†ã³' },
                { jp: 'æ°´æ›œæ—¥', kr: 'ìˆ˜ìš”ì¼', furigana: 'ã™ã„ã‚ˆã†ã³' },
                { jp: 'æœ¨æ›œæ—¥', kr: 'ëª©ìš”ì¼', furigana: 'ã‚‚ãã‚ˆã†ã³' },
                { jp: 'é‡‘æ›œæ—¥', kr: 'ê¸ˆìš”ì¼', furigana: 'ãã‚“ã‚ˆã†ã³' },
                { jp: 'åœŸæ›œæ—¥', kr: 'í† ìš”ì¼', furigana: 'ã©ã‚ˆã†ã³' },
                { jp: 'æ—¥æ›œæ—¥', kr: 'ì¼ìš”ì¼', furigana: 'ã«ã¡ã‚ˆã†ã³' }
            ],
            'ì˜ë¬¸ì‚¬': [
                { jp: 'ãªã«', kr: 'ë¬´ì—‡', furigana: null },
                { jp: 'ã ã‚Œ', kr: 'ëˆ„êµ¬', furigana: null },
                { jp: 'ã©ã“', kr: 'ì–´ë””', furigana: null },
                { jp: 'ãªã‚“ã§', kr: 'ì™œ', furigana: null },
                { jp: 'ã„ã¤', kr: 'ì–¸ì œ', furigana: null },
                { jp: 'ã©ã†', kr: 'ì–´ë–»ê²Œ', furigana: null },
                { jp: 'ã©ã®ãã‚‰ã„', kr: 'ì–¼ë§ˆë‚˜', furigana: null },
                { jp: 'ã©ã®', kr: 'ì–´ë–¤', furigana: null },
                { jp: 'ã©ã†ã—ã¦', kr: 'ì™œ', furigana: null }
            ]
        };

        // í€´ì¦ˆ ë°ì´í„°
        const quizData = {
            'basic': [
                { q: 'ã“ã‚Œã¯ ãªã«ï¼Ÿ', a: 'ì´ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?', h: 'ã“ã‚Œã¯ ãªã«ï¼Ÿ' },
                { q: 'ãã‚Œã¯ ãªã‚“ã§ã™ã‹ï¼Ÿ', a: 'ê·¸ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?', h: 'ãã‚Œã¯ ãªã‚“ã§ã™ã‹ï¼Ÿ' },
                { q: 'ã ã‚Œã§ã™ã‹ï¼Ÿ', a: 'ëˆ„êµ¬ì…ë‹ˆê¹Œ?', h: 'ã ã‚Œã§ã™ã‹ï¼Ÿ' },
                { q: 'ã©ã“ã§ã™ã‹ï¼Ÿ', a: 'ì–´ë””ì…ë‹ˆê¹Œ?', h: 'ã©ã“ã§ã™ã‹ï¼Ÿ' },
                { q: 'ã„ã¤ã§ã™ã‹ï¼Ÿ', a: 'ì–¸ì œì…ë‹ˆê¹Œ?', h: 'ã„ã¤ã§ã™ã‹ï¼Ÿ' },
                { q: 'ã©ã†ã§ã™ã‹ï¼Ÿ', a: 'ì–´ë–»ìŠµë‹ˆê¹Œ?', h: 'ã©ã†ã§ã™ã‹ï¼Ÿ' },
                { q: 'ã©ã†ã—ã¦ã§ã™ã‹ï¼Ÿ', a: 'ì™œìš”?', h: 'ã©ã†ã—ã¦ã§ã™ã‹ï¼Ÿ' },
                { q: 'å¥½ããª è‰²ã¯ ãªã«ï¼Ÿ', a: 'ì¢‹ì•„í•˜ëŠ” ìƒ‰ì€ ë¬´ì—‡ì¸ê°€ìš”?', h: 'ã™ããª ã„ã‚ã¯ ãªã«ï¼Ÿ' },
                { q: 'å¥½ããª ãã ã‚‚ã®ã¯ ãªã«ï¼Ÿ', a: 'ì¢‹ì•„í•˜ëŠ” ê³¼ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?', h: 'ã™ããª ãã ã‚‚ã®ã¯ ãªã«ï¼Ÿ' },
                { q: 'éŸ“å›½ã® ãŸã¹ã‚‚ã®ã¯ ä½•ãŒå¥½ãï¼Ÿ', a: 'í•œêµ­ ìŒì‹ì€ ë¬´ì—‡ì´ ì¢‹ì•„í•´ìš”?', h: 'ã‹ã‚“ã“ãã® ãŸã¹ã‚‚ã®ã¯ ãªã«ãŒ ã™ãï¼Ÿ' },
                { q: 'æœ¬å½“ã§ã™ã‹ï¼Ÿ', a: 'ì§„ì§œì˜ˆìš”?', h: 'ã»ã‚“ã¨ã†ã§ã™ã‹ï¼Ÿ' },
                { q: 'å¤§ä¸ˆå¤«ã§ã™ã‹ï¼Ÿ', a: 'ê´œì°®ì•„ìš”?', h: 'ã ã„ã˜ã‚‡ã†ã¶ã§ã™ã‹ï¼Ÿ' },
                { q: 'èª°ãŒ è¨€ã£ãŸã®ï¼Ÿ', a: 'ëˆ„ê°€ ë§í–ˆì–´ìš”?', h: 'ã ã‚ŒãŒ ã„ã£ãŸã®ï¼Ÿ' },
                { q: 'ã„ãã‚‰ã§ã™ã‹ï¼Ÿ', a: 'ì–¼ë§ˆì˜ˆìš”?', h: 'ã„ãã‚‰ã§ã™ã‹ï¼Ÿ' },
                { q: 'ä½•ã‚’ ã—ãŸã„ï¼Ÿ', a: 'ë¬´ì—‡ì„ í•˜ê³  ì‹¶ì–´ìš”?', h: 'ãªã«ã‚’ ã—ãŸã„ï¼Ÿ' },
                { q: 'ä½•ãŒ ã»ã—ã„ï¼Ÿ', a: 'ë¬´ì—‡ì„ ê°–ê³  ì‹¶ì–´ìš”?', h: 'ãªã«ãŒ ã»ã—ã„ï¼Ÿ' }
            ],
            'time': [
                { q: 'ä½•æ™‚ã‹ã‚‰ï¼Ÿ', a: 'ëª‡ ì‹œë¶€í„°ì˜ˆìš”?', h: 'ãªã‚“ã˜ã‹ã‚‰ï¼Ÿ' },
                { q: 'ä½•æ™‚ã¾ã§ï¼Ÿ', a: 'ëª‡ ì‹œê¹Œì§€ì˜ˆìš”?', h: 'ãªã‚“ã˜ã¾ã§ï¼Ÿ' },
                { q: 'ä½•æ™‚ã‹ã‚‰ ä½•æ™‚ã¾ã§ï¼Ÿ', a: 'ëª‡ ì‹œë¶€í„° ëª‡ ì‹œê¹Œì§€ì˜ˆìš”?', h: 'ãªã‚“ã˜ã‹ã‚‰ ãªã‚“ã˜ã¾ã§ï¼Ÿ' },
                { q: 'æ˜æ—¥ ä»•äº‹ã¯ ä½•æ™‚ã‹ã‚‰ï¼Ÿ', a: 'ë‚´ì¼ ì¼ì€ ëª‡ ì‹œë¶€í„°ì˜ˆìš”?', h: 'ã‚ã—ãŸ ã—ã”ã¨ã¯ ãªã‚“ã˜ã‹ã‚‰ï¼Ÿ' },
                { q: 'ã„ã¤ æ¥ã‚‹ã®ï¼Ÿ', a: 'ì–¸ì œ ì™€ìš”?', h: 'ã„ã¤ ãã‚‹ã®ï¼Ÿ' },
                { q: 'ã„ã¤ã¾ã§ ã„ã‚‹ã®ï¼Ÿ', a: 'ì–¸ì œê¹Œì§€ ìˆì–´ìš”?', h: 'ã„ã¤ã¾ã§ ã„ã‚‹ã®ï¼Ÿ' },
                { q: 'ã„ã¤ã§ã‚‚ ã„ã„ã‚ˆ', a: 'ì–¸ì œë“ ì§€ ê´œì°®ì•„ìš”', h: 'ã„ã¤ã§ã‚‚ ã„ã„ã‚ˆ' },
                { q: 'ä½•æœˆã« è¡Œãã®ï¼Ÿ', a: 'ëª‡ ì›”ì— ê°€ìš”?', h: 'ãªã‚“ãŒã¤ã« ã„ãã®ï¼Ÿ' },
                { q: 'ä½•æ›œæ—¥ãŒ ã„ã„ï¼Ÿ', a: 'ë¬´ìŠ¨ ìš”ì¼ì´ ì¢‹ì•„ìš”?', h: 'ãªã‚“ã‚ˆã†ã³ãŒ ã„ã„ï¼Ÿ' },
                { q: 'ä»Šæ—¥ã¯ ä½•æ›œæ—¥ï¼Ÿ', a: 'ì˜¤ëŠ˜ì€ ë¬´ìŠ¨ ìš”ì¼ì´ì—ìš”?', h: 'ãã‚‡ã†ã¯ ãªã‚“ã‚ˆã†ã³ï¼Ÿ' }
            ],
            'location': [
                { q: 'ã©ã“ã‹ã‚‰ ã©ã“ã¾ã§ ã©ã®ãã‚‰ã„ ã‹ã‹ã‚‹ã®ï¼Ÿ', a: 'ì–´ë””ì„œ ì–´ë””ê¹Œì§€ ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”?', h: 'ã©ã“ã‹ã‚‰ ã©ã“ã¾ã§ ã©ã®ãã‚‰ã„ ã‹ã‹ã‚‹ã®ï¼Ÿ' },
                { q: 'å®¶ã‹ã‚‰ ä¼šç¤¾ã¾ã§ ã©ã®ãã‚‰ã„ï¼Ÿ', a: 'ì§‘ì—ì„œ íšŒì‚¬ê¹Œì§€ ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”?', h: 'ã„ãˆã‹ã‚‰ ã‹ã„ã—ã‚ƒã¾ã§ ã©ã®ãã‚‰ã„ï¼Ÿ' },
                { q: 'ãƒã‚¹ã§ è¡Œãã®ï¼Ÿ', a: 'ë²„ìŠ¤ë¡œ ê°€ìš”?', h: 'ãƒã‚¹ã§ ã„ãã®ï¼Ÿ' },
                { q: 'é›»è»Šã§ ä½•åˆ†ã‹ã‹ã‚‹ï¼Ÿ', a: 'ì „ì² ë¡œ ëª‡ ë¶„ ê±¸ë ¤ìš”?', h: 'ã§ã‚“ã—ã‚ƒã§ ãªã‚“ã·ã‚“ã‹ã‹ã‚‹ï¼Ÿ' },
                { q: 'æ­©ã„ã¦ è¡Œã‘ã‚‹ï¼Ÿ', a: 'ê±¸ì–´ì„œ ê°ˆ ìˆ˜ ìˆì–´ìš”?', h: 'ã‚ã‚‹ã„ã¦ ã„ã‘ã‚‹ï¼Ÿ' },
                { q: 'ä¼šç¤¾ã¯ å®¶ã‹ã‚‰ é ã„ã®ï¼Ÿ', a: 'íšŒì‚¬ëŠ” ì§‘ì—ì„œ ë©€ì–´ìš”?', h: 'ã‹ã„ã—ã‚ƒã¯ ã„ãˆã‹ã‚‰ ã¨ãŠã„ã®ï¼Ÿ' },
                { q: 'ä¸€ç•ª è¿‘ã„ ã‚³ãƒ³ãƒ“ãƒ‹ã¯ ã©ã“ï¼Ÿ', a: 'ê°€ì¥ ê°€ê¹Œìš´ í¸ì˜ì ì€ ì–´ë””ì˜ˆìš”?', h: 'ã„ã¡ã°ã‚“ ã¡ã‹ã„ ã‚³ãƒ³ãƒ“ãƒ‹ã¯ ã©ã“ï¼Ÿ' },
                { q: 'é£›è¡Œæ©Ÿã§ ä½•æ™‚é–“ï¼Ÿ', a: 'ë¹„í–‰ê¸°ë¡œ ëª‡ ì‹œê°„ì´ì—ìš”?', h: 'ã²ã“ã†ãã§ ãªã‚“ã˜ã‹ã‚“ï¼Ÿ' },
                { q: 'åœ°ä¸‹é‰„ã§ ã‚«ãƒ³ãƒŠãƒ é§…ã¾ã§ è¡Œã‘ã‚‹ï¼Ÿ', a: 'ì§€í•˜ì² ë¡œ ê°•ë‚¨ì—­ê¹Œì§€ ê°ˆ ìˆ˜ ìˆì–´ìš”?', h: 'ã¡ã‹ã¦ã¤ã§ ã‚«ãƒ³ãƒŠãƒ ãˆãã¾ã§ ã„ã‘ã‚‹ï¼Ÿ' },
                { q: 'ã©ã“ã§ é™ã‚Šã‚‹ã®ï¼Ÿ', a: 'ì–´ë””ì„œ ë‚´ë ¤ìš”?', h: 'ã©ã“ã§ ãŠã‚Šã‚‹ã®ï¼Ÿ' }
            ],
            'daily': [
                { q: 'æ–™ç† ã§ãã‚‹ã®ï¼Ÿ', a: 'ìš”ë¦¬ í•  ìˆ˜ ìˆì–´ìš”?', h: 'ã‚Šã‚‡ã†ã‚Š ã§ãã‚‹ã®ï¼Ÿ' },
                { q: 'ã„ã¤ã§ã‚‚ çµå©šã§ãã‚‹ã­ï¼Ÿ', a: 'ì–¸ì œë“ ì§€ ê²°í˜¼í•  ìˆ˜ ìˆê² ë„¤ìš”?', h: 'ã„ã¤ã§ã‚‚ ã‘ã£ã“ã‚“ã§ãã‚‹ã­ï¼Ÿ' },
                { q: 'å½¼æ° ã„ãªã„ã‚“ã ï¼Ÿ', a: 'ë‚¨ì¹œ ì—†ì–´ìš”?', h: 'ã‹ã‚Œã— ã„ãªã„ã‚“ã ï¼Ÿ' },
                { q: 'ãŠé‡‘ ã‚‚ã£ã¦ã‚‹ï¼Ÿ', a: 'ëˆ ê°€ì§€ê³  ìˆì–´ìš”?', h: 'ãŠã‹ã­ ã‚‚ã£ã¦ã‚‹ï¼Ÿ' },
                { q: 'ä»Šã‹ã‚‰ é£²ã¿ã« è¡Œãï¼Ÿ', a: 'ì§€ê¸ˆë¶€í„° ë§ˆì‹œëŸ¬ ê°€ìš”?', h: 'ã„ã¾ã‹ã‚‰ ã®ã¿ã« ã„ãï¼Ÿ' },
                { q: 'äºŒæ¬¡ä¼š ã©ã†ï¼Ÿ', a: '2ì°¨ ì–´ë•Œìš”?', h: 'ã«ã˜ã‹ã„ ã©ã†ï¼Ÿ' },
                { q: 'ãŠã‹ã‚“ã˜ã‚‡ã† ãŠã­ãŒã„ã—ã¾ã™', a: 'ê³„ì‚° ë¶€íƒí•©ë‹ˆë‹¤', h: 'ãŠã‹ã‚“ã˜ã‚‡ã† ãŠã­ãŒã„ã—ã¾ã™' },
                { q: 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ãã ã•ã„', a: 'ë©”ë‰´ ì£¼ì„¸ìš”', h: 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ãã ã•ã„' },
                { q: 'ä½•ã‚’ é£²ã¿ã¾ã™ã‹ï¼Ÿ', a: 'ë¬´ì—‡ì„ ë§ˆì‹œê² ìŠµë‹ˆê¹Œ?', h: 'ãªã«ã‚’ ã®ã¿ã¾ã™ã‹ï¼Ÿ' },
                { q: 'ä½•ã‚’ é£Ÿã¹ã¾ã™ã‹ï¼Ÿ', a: 'ë¬´ì—‡ì„ ë¨¹ê² ìŠµë‹ˆê¹Œ?', h: 'ãªã«ã‚’ ãŸã¹ã¾ã™ã‹ï¼Ÿ' }
            ]
        };

        // ì „ì—­ ë³€ìˆ˜
        let knownWords = JSON.parse(localStorage.getItem('knownWords') || '[]');
        let wordStates = {};
        let currentMode = 'study';
        let currentCategory = 'all';
        let currentLevel = 'lesson';
        let bookmarkPosition = parseInt(localStorage.getItem('bookmarkPosition') || '0');
        let currentQuizCategory = 'basic';
        let currentQuestionIndex = 0;

        // ë©”ë‰´ í† ê¸€
        function toggleMenu() {
            const dropdown = document.getElementById('menuDropdown');
            dropdown.classList.toggle('show');
        }

        // íƒ­ ì „í™˜
        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            
            document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('menuDropdown').classList.remove('show');
        }

        // ëª¨ë“œ ì „í™˜
        function switchMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (mode === 'study') {
                document.getElementById('study-mode').classList.remove('hidden');
                document.getElementById('known-mode').classList.add('hidden');
                renderStudyWords();
            } else {
                document.getElementById('study-mode').classList.add('hidden');
                document.getElementById('known-mode').classList.remove('hidden');
                renderKnownWords();
            }
        }

        // ë ˆë²¨ í•„í„°
        function filterLevel() {
            currentLevel = document.getElementById('levelFilter').value;
            currentCategory = 'all';
            document.getElementById('categoryFilter').value = 'all';
            updateCategoryOptions();
            renderStudyWords();
            updateStats();
        }

        // ì¹´í…Œê³ ë¦¬ ì˜µì…˜ ì—…ë°ì´íŠ¸
        function updateCategoryOptions() {
            const categoryFilter = document.getElementById('categoryFilter');
            categoryFilter.innerHTML = '<option value="all">ì „ì²´ ë³´ê¸°</option>';
            
            const dataSource = currentLevel === 'lesson' ? lessonVocabulary : n5n3Vocabulary;
            Object.keys(dataSource).forEach(cat => {
                const option = document.createElement('option');
                option.value = cat;
                option.textContent = cat;
                categoryFilter.appendChild(option);
            });
        }

        // ì¹´í…Œê³ ë¦¬ í•„í„°
        function filterCategory() {
            currentCategory = document.getElementById('categoryFilter').value;
            renderStudyWords();
            updateStats();
        }

        // ë¶ë§ˆí¬ ì´ë™
        function goToBookmark() {
            const bookmark = document.querySelector(`[data-word-index="${bookmarkPosition}"]`);
            if (bookmark) {
                bookmark.scrollIntoView({ behavior: 'smooth', block: 'center' });
                bookmark.classList.add('bookmarked');
                setTimeout(() => bookmark.classList.remove('bookmarked'), 2000);
            }
        }

        // ë¶ë§ˆí¬ ì„¤ì •
        function setBookmark(index) {
            bookmarkPosition = index;
            localStorage.setItem('bookmarkPosition', index.toString());
        }

        // HTML ë‹¤ìš´ë¡œë“œ
        function downloadHTML() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'japanese_study_ultimate.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        // ëª¨ë“  ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸°
        function getAllWords() {
            const dataSource = currentLevel === 'lesson' ? lessonVocabulary : n5n3Vocabulary;
            let words = [];
            let globalIndex = 0;
            
            if (currentCategory === 'all') {
                Object.keys(dataSource).forEach(cat => {
                    dataSource[cat].forEach(word => {
                        words.push({ ...word, category: cat, globalIndex: globalIndex++ });
                    });
                });
            } else {
                dataSource[currentCategory]?.forEach(word => {
                    words.push({ ...word, category: currentCategory, globalIndex: globalIndex++ });
                });
            }
            return words;
        }

        // í•™ìŠµ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸°
        function getStudyWords() {
            const allWords = getAllWords();
            return allWords.filter(word => 
                !knownWords.find(kw => kw.jp === word.jp && kw.kr === word.kr)
            );
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            const studyWords = getStudyWords();
            const allWords = getAllWords();
            const learnedCount = allWords.length - studyWords.length;
            const percentage = allWords.length > 0 ? Math.round((learnedCount / allWords.length) * 100) : 0;
            
            document.getElementById('totalWords').textContent = allWords.length;
            document.getElementById('learnedPercentage').textContent = `${percentage}%`;
        }

        // ìŠ¤í¬ë¡¤ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateScrollProgress() {
            const container = document.getElementById('vocab-list');
            const scrollTop = container.scrollTop;
            const scrollHeight = container.scrollHeight - container.clientHeight;
            const scrollPercentage = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
            
            const visibleCards = container.querySelectorAll('.interactive-word-card');
            let currentVisible = 0;
            
            for (let i = 0; i < visibleCards.length; i++) {
                const rect = visibleCards[i].getBoundingClientRect();
                if (rect.top < window.innerHeight / 2) {
                    currentVisible = i + 1;
                }
            }
            
            document.getElementById('currentPosition').textContent = currentVisible;
            document.getElementById('scrollProgressBar').style.width = `${scrollPercentage}%`;
            document.getElementById('scrollIndicator').textContent = `${currentVisible} / ${visibleCards.length}`;
            
            // ìŠ¤í¬ë¡¤ ì¤‘ì¼ ë•Œë§Œ í‘œì‹œ
            if (scrollPercentage > 0) {
                document.getElementById('scrollProgress').classList.add('visible');
                document.getElementById('scrollIndicator').classList.add('visible');
            }
            
            // ìŠ¤í¬ë¡¤ ë©ˆì¶”ë©´ ìˆ¨ê¸°ê¸°
            clearTimeout(window.scrollTimeout);
            window.scrollTimeout = setTimeout(() => {
                document.getElementById('scrollProgress').classList.remove('visible');
                document.getElementById('scrollIndicator').classList.remove('visible');
            }, 2000);
        }

        // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
        function updateCounts() {
            document.getElementById('study-count').textContent = getStudyWords().length;
            document.getElementById('known-count').textContent = knownWords.length;
            updateStats();
        }

        // í›„ë¦¬ê°€ë‚˜ í† ê¸€
        function toggleFurigana(wordId) {
            wordStates[wordId] = wordStates[wordId] || {};
            wordStates[wordId].showFurigana = !wordStates[wordId].showFurigana;
            renderStudyWords();
        }

        // ì˜ë¯¸ í† ê¸€
        function toggleMeaning(wordId) {
            wordStates[wordId] = wordStates[wordId] || {};
            wordStates[wordId].showMeaning = !wordStates[wordId].showMeaning;
            renderStudyWords();
        }

        // ì•„ëŠ” ë‹¨ì–´ë¡œ ë§ˆí¬
        function markAsKnown(word) {
            knownWords.push(word);
            localStorage.setItem('knownWords', JSON.stringify(knownWords));
            renderStudyWords();
            updateCounts();
        }

        // ëª¨ë¥´ëŠ” ë‹¨ì–´ë¡œ ë§ˆí¬
        function markAsDontKnow(wordId) {
            wordStates[wordId] = wordStates[wordId] || {};
            wordStates[wordId].checked = true;
            renderStudyWords();
        }

        // ë‹¨ì–´ ë³µì›
        function restoreWord(word) {
            knownWords = knownWords.filter(kw => 
                !(kw.jp === word.jp && kw.kr === word.kr)
            );
            localStorage.setItem('knownWords', JSON.stringify(knownWords));
            renderKnownWords();
            updateCounts();
        }

        // ëª¨ë“  ë‹¨ì–´ ë³µì›
        function restoreAll() {
            if (confirm('ëª¨ë“  ì•„ëŠ” ë‹¨ì–´ë¥¼ ë˜ëŒë¦¬ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                knownWords = [];
                wordStates = {};
                localStorage.setItem('knownWords', JSON.stringify(knownWords));
                renderKnownWords();
                renderStudyWords();
                updateCounts();
            }
        }

        // í•™ìŠµ ë‹¨ì–´ ë Œë”ë§
        function renderStudyWords() {
            const container = document.getElementById('vocab-list');
            const words = getStudyWords();
            
            if (words.length === 0) {
                container.innerHTML = '<div class="empty-message">ëª¨ë“  ë‹¨ì–´ë¥¼ í•™ìŠµí–ˆìŠµë‹ˆë‹¤! ğŸ‰</div>';
                return;
            }

            container.innerHTML = words.map((word, idx) => {
                const wordId = `${word.jp}_${idx}`;
                const state = wordStates[wordId] || {};
                const hasKanji = /[ä¸€-é¾¯]/.test(word.jp);
                
                let japaneseHtml = word.jp;
                if (state.showFurigana && word.furigana && hasKanji) {
                    japaneseHtml = `<ruby>${word.jp}<rt>${word.furigana}</rt></ruby>`;
                }

                return `
                    <div class="interactive-word-card" data-word-index="${word.globalIndex}" onclick="setBookmark(${word.globalIndex})">
                        <div class="word-column">
                            <div class="japanese-word">${japaneseHtml}</div>
                            ${state.showMeaning ? `<div class="word-meaning">${word.kr}</div>` : ''}
                        </div>
                        <div class="action-buttons">
                            <button class="action-btn-small ${state.showFurigana ? 'active' : ''}" 
                                onclick="event.stopPropagation(); toggleFurigana('${wordId}')"
                                ${!hasKanji || !word.furigana ? 'disabled' : ''}>ã‚</button>
                            <button class="action-btn-small ${state.showMeaning ? 'active' : ''}" 
                                onclick="event.stopPropagation(); toggleMeaning('${wordId}')">ëœ»</button>
                            <button class="action-btn-small btn-know" 
                                onclick='event.stopPropagation(); markAsKnown(${JSON.stringify(word).replace(/'/g, "\\'")})'>ì•ˆë‹¤</button>
                            <button class="action-btn-small btn-dont-know ${state.checked ? 'checked' : ''}" 
                                onclick="event.stopPropagation(); markAsDontKnow('${wordId}')">ëª¨ë¥¸ë‹¤</button>
                        </div>
                    </div>
                `;
            }).join('');
            
            updateScrollProgress();
        }

        // ì•„ëŠ” ë‹¨ì–´ ë Œë”ë§
        function renderKnownWords() {
            const container = document.getElementById('known-list');
            
            if (knownWords.length === 0) {
                container.innerHTML = '<div class="empty-message">ì•„ì§ í•™ìŠµí•œ ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            container.innerHTML = knownWords.map(word => `
                <div class="known-word-card" onclick='restoreWord(${JSON.stringify(word).replace(/'/g, "\\'")})'>
                    <div style="font-size: 1.2rem; font-weight: bold; margin-bottom: 5px;">${word.jp}</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">${word.kr}</div>
                    <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 5px;">íƒ­í•˜ì—¬ ë³µì›</div>
                </div>
            `).join('');
        }

        // í€´ì¦ˆ ì¹´í…Œê³ ë¦¬ ì „í™˜
        function switchQuizCategory(category) {
            currentQuizCategory = category;
            currentQuestionIndex = 0;
            document.querySelectorAll('.quiz-cat-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            loadQuestion();
        }

        // ì§ˆë¬¸ ë¡œë“œ
        function loadQuestion() {
            const questions = quizData[currentQuizCategory];
            const question = questions[currentQuestionIndex];
            
            document.getElementById('quiz-question').textContent = question.q;
            document.getElementById('quiz-furigana').textContent = question.h || '';
            document.getElementById('quiz-answer').textContent = question.a;
            document.getElementById('quiz-answer').classList.add('hidden');
            document.getElementById('quiz-progress').textContent = 
                `${currentQuestionIndex + 1} / ${questions.length}`;
        }

        // ë‹µ í† ê¸€
        function toggleAnswer() {
            document.getElementById('quiz-answer').classList.toggle('hidden');
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            const questions = quizData[currentQuizCategory];
            currentQuestionIndex = (currentQuestionIndex + 1) % questions.length;
            loadQuestion();
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            const questions = quizData[currentQuizCategory];
            currentQuestionIndex = currentQuestionIndex === 0 ? 
                questions.length - 1 : currentQuestionIndex - 1;
            loadQuestion();
        }

        // ì´ˆê¸°í™”
        updateCategoryOptions();
        updateCounts();
        renderStudyWords();
        loadQuestion();
    </script>
</body>
</html>