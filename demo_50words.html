<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스마트 반복 단어장 - Demo (50 words)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .app-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .tab-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
        }

        .tab-title {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .mode-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            background: white;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 600;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        select, button {
            padding: 8px 15px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        button:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .vocab-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
        }

        .word-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            min-height: 120px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .word-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .word-card.known {
            background: linear-gradient(135deg, #22c55e 0%, #84cc16 100%);
        }

        .japanese-word {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .word-meaning {
            font-size: 16px;
            opacity: 0.95;
        }

        .card-number {
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 12px;
            opacity: 0.7;
        }

        .mini-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #666;
        }

        .mini-stat strong {
            color: #667eea;
        }

        .hidden {
            display: none !important;
        }

        ruby rt {
            font-size: 0.7em;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="tab-header">
            <h2 class="tab-title">스마트 반복 단어장 - Demo</h2>
            <div style="font-size: 12px; color: #999;">50 words version</div>
        </div>

        <div class="mode-selector">
            <button class="mode-btn active" onclick="switchMode('study')">
                학습할 단어 (<span id="remaining-count">50</span>)
            </button>
            <button class="mode-btn" onclick="switchMode('known')">
                완료한 단어 (<span id="known-count">0</span>)
            </button>
        </div>

        <div id="study-mode">
            <div class="controls">
                <select id="level-select" onchange="filterWords()">
                    <option value="all">전체 레벨</option>
                    <option value="n5">N5 (초급)</option>
                    <option value="n4">N4 (중급)</option>
                    <option value="n3">N3 (상급)</option>
                </select>
                <select id="category-select" onchange="filterWords()">
                    <option value="all">전체 카테고리</option>
                    <option value="동사">동사</option>
                    <option value="명사">명사</option>
                    <option value="い형용사">い형용사</option>
                    <option value="な형용사">な형용사</option>
                </select>
                <button onclick="toggleAllDisplay()">👁 전체 보기/숨기기</button>
                <button onclick="resetAll()">🔄 초기화</button>
            </div>

            <div class="mini-stats">
                <span class="mini-stat">전체: <strong id="total-words">50</strong></span>
                <span class="mini-stat">완료: <strong id="progress">0%</strong></span>
            </div>

            <div class="vocab-list" id="vocab-list"></div>
        </div>

        <div id="known-mode" class="hidden">
            <div class="controls">
                <button onclick="restoreAll()">모든 단어 되돌리기</button>
            </div>
            <div class="vocab-list" id="known-list"></div>
        </div>
    </div>

    <script>
        // 50개 단어 데이터 (각 레벨별로 샘플)
        const vocabulary = {
            n5: {
                동사: [
                    { jp: '食べる', kr: '먹다', furigana: 'たべる' },
                    { jp: '飲む', kr: '마시다', furigana: 'のむ' },
                    { jp: '見る', kr: '보다', furigana: 'みる' },
                    { jp: '聞く', kr: '듣다', furigana: 'きく' },
                    { jp: '行く', kr: '가다', furigana: 'いく' },
                    { jp: '来る', kr: '오다', furigana: 'くる' },
                    { jp: '帰る', kr: '돌아가다', furigana: 'かえる' }
                ],
                명사: [
                    { jp: '本', kr: '책', furigana: 'ほん' },
                    { jp: '水', kr: '물', furigana: 'みず' },
                    { jp: '学校', kr: '학교', furigana: 'がっこう' },
                    { jp: '先生', kr: '선생님', furigana: 'せんせい' },
                    { jp: '友達', kr: '친구', furigana: 'ともだち' },
                    { jp: '家', kr: '집', furigana: 'いえ' },
                    { jp: '時計', kr: '시계', furigana: 'とけい' }
                ],
                い형용사: [
                    { jp: '大きい', kr: '크다', furigana: 'おおきい' },
                    { jp: '小さい', kr: '작다', furigana: 'ちいさい' },
                    { jp: '高い', kr: '높다/비싸다', furigana: 'たかい' },
                    { jp: '安い', kr: '싸다', furigana: 'やすい' },
                    { jp: '新しい', kr: '새롭다', furigana: 'あたらしい' }
                ],
                な형용사: [
                    { jp: '元気', kr: '건강하다', furigana: 'げんき' },
                    { jp: '静か', kr: '조용하다', furigana: 'しずか' },
                    { jp: '便利', kr: '편리하다', furigana: 'べんり' }
                ]
            },
            n4: {
                동사: [
                    { jp: '始まる', kr: '시작되다', furigana: 'はじまる' },
                    { jp: '終わる', kr: '끝나다', furigana: 'おわる' },
                    { jp: '覚える', kr: '외우다', furigana: 'おぼえる' },
                    { jp: '忘れる', kr: '잊다', furigana: 'わすれる' },
                    { jp: '決める', kr: '정하다', furigana: 'きめる' },
                    { jp: '知らせる', kr: '알리다', furigana: 'しらせる' },
                    { jp: '調べる', kr: '조사하다', furigana: 'しらべる' }
                ],
                명사: [
                    { jp: '会議', kr: '회의', furigana: 'かいぎ' },
                    { jp: '予定', kr: '예정', furigana: 'よてい' },
                    { jp: '連絡', kr: '연락', furigana: 'れんらく' },
                    { jp: '準備', kr: '준비', furigana: 'じゅんび' },
                    { jp: '意味', kr: '의미', furigana: 'いみ' },
                    { jp: '理由', kr: '이유', furigana: 'りゆう' },
                    { jp: '経験', kr: '경험', furigana: 'けいけん' }
                ],
                い형용사: [
                    { jp: '眠い', kr: '졸리다', furigana: 'ねむい' },
                    { jp: '苦しい', kr: '괴롭다', furigana: 'くるしい' },
                    { jp: '珍しい', kr: '드물다', furigana: 'めずらしい' }
                ],
                な형용사: [
                    { jp: '必要', kr: '필요하다', furigana: 'ひつよう' },
                    { jp: '大切', kr: '소중하다', furigana: 'たいせつ' }
                ]
            },
            n3: {
                동사: [
                    { jp: '預ける', kr: '맡기다', furigana: 'あずける' },
                    { jp: '慌てる', kr: '허둥대다', furigana: 'あわてる' },
                    { jp: '諦める', kr: '포기하다', furigana: 'あきらめる' },
                    { jp: '憧れる', kr: '동경하다', furigana: 'あこがれる' }
                ],
                명사: [
                    { jp: '印象', kr: '인상', furigana: 'いんしょう' },
                    { jp: '影響', kr: '영향', furigana: 'えいきょう' },
                    { jp: '価値', kr: '가치', furigana: 'かち' },
                    { jp: '確認', kr: '확인', furigana: 'かくにん' }
                ],
                い형용사: [
                    { jp: '怪しい', kr: '수상하다', furigana: 'あやしい' },
                    { jp: '鋭い', kr: '날카롭다', furigana: 'するどい' }
                ],
                な형용사: [
                    { jp: '確実', kr: '확실하다', furigana: 'かくじつ' },
                    { jp: '適当', kr: '적당하다', furigana: 'てきとう' }
                ]
            }
        };

        let knownWords = JSON.parse(localStorage.getItem('demoKnownWords') || '[]');
        let showAll = false;
        let currentMode = 'study';

        function initializeApp() {
            renderWords();
            updateCounts();
        }

        function switchMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (mode === 'study') {
                document.getElementById('study-mode').classList.remove('hidden');
                document.getElementById('known-mode').classList.add('hidden');
            } else {
                document.getElementById('study-mode').classList.add('hidden');
                document.getElementById('known-mode').classList.remove('hidden');
                renderKnownWords();
            }
        }

        function filterWords() {
            renderWords();
        }

        function renderWords() {
            const level = document.getElementById('level-select').value;
            const category = document.getElementById('category-select').value;
            const container = document.getElementById('vocab-list');
            container.innerHTML = '';
            
            let wordIndex = 0;
            const levels = level === 'all' ? Object.keys(vocabulary) : [level];
            
            levels.forEach(lvl => {
                const categories = category === 'all' ? Object.keys(vocabulary[lvl]) : [category];
                
                categories.forEach(cat => {
                    if (vocabulary[lvl][cat]) {
                        vocabulary[lvl][cat].forEach(word => {
                            const wordId = `${lvl}-${cat}-${word.jp}`;
                            if (!knownWords.includes(wordId)) {
                                wordIndex++;
                                const card = createWordCard(word, wordId, wordIndex);
                                container.appendChild(card);
                            }
                        });
                    }
                });
            });
            
            if (container.children.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 50px; color: #999;">모든 단어를 학습했습니다! 🎉</div>';
            }
        }

        function createWordCard(word, wordId, index) {
            const card = document.createElement('div');
            card.className = 'word-card';
            card.innerHTML = `
                <span class="card-number">#${index}</span>
                <div class="japanese-word">
                    ${showAll && word.furigana ? 
                        `<ruby>${word.jp}<rt>${word.furigana}</rt></ruby>` : 
                        word.jp}
                </div>
                ${showAll ? `<div class="word-meaning">${word.kr}</div>` : ''}
                <div style="margin-top: 10px;">
                    <button onclick="event.stopPropagation(); toggleWord(this, '${word.furigana}', '${word.kr}')" 
                            style="margin-right: 5px; padding: 5px 10px; font-size: 12px;">
                        ${showAll ? '숨기기' : '보기'}
                    </button>
                    <button onclick="event.stopPropagation(); markAsKnown('${wordId}')" 
                            style="padding: 5px 10px; font-size: 12px; background: #22c55e; color: white; border: none;">
                        암기완료
                    </button>
                </div>
            `;
            return card;
        }

        function toggleWord(button, furigana, meaning) {
            const card = button.closest('.word-card');
            const japaneseDiv = card.querySelector('.japanese-word');
            const meaningDiv = card.querySelector('.word-meaning');
            
            if (meaningDiv) {
                meaningDiv.remove();
                japaneseDiv.innerHTML = japaneseDiv.textContent;
                button.textContent = '보기';
            } else {
                if (furigana && furigana !== 'null') {
                    japaneseDiv.innerHTML = `<ruby>${japaneseDiv.textContent}<rt>${furigana}</rt></ruby>`;
                }
                const newMeaningDiv = document.createElement('div');
                newMeaningDiv.className = 'word-meaning';
                newMeaningDiv.textContent = meaning;
                japaneseDiv.after(newMeaningDiv);
                button.textContent = '숨기기';
            }
        }

        function toggleAllDisplay() {
            showAll = !showAll;
            renderWords();
        }

        function markAsKnown(wordId) {
            if (!knownWords.includes(wordId)) {
                knownWords.push(wordId);
                localStorage.setItem('demoKnownWords', JSON.stringify(knownWords));
                renderWords();
                updateCounts();
            }
        }

        function renderKnownWords() {
            const container = document.getElementById('known-list');
            container.innerHTML = '';
            
            knownWords.forEach(wordId => {
                const [level, category, jp] = wordId.split('-');
                const word = vocabulary[level]?.[category]?.find(w => w.jp === jp);
                if (word) {
                    const card = document.createElement('div');
                    card.className = 'word-card known';
                    card.onclick = () => restoreWord(wordId);
                    card.innerHTML = `
                        <div class="japanese-word">${word.jp}</div>
                        <div class="word-meaning">${word.kr}</div>
                        <div style="font-size: 12px; margin-top: 10px; opacity: 0.8;">✓ 완료 - 탭하여 복원</div>
                    `;
                    container.appendChild(card);
                }
            });
            
            if (container.children.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 50px; color: #999;">아직 완료한 단어가 없습니다.</div>';
            }
        }

        function restoreWord(wordId) {
            knownWords = knownWords.filter(id => id !== wordId);
            localStorage.setItem('demoKnownWords', JSON.stringify(knownWords));
            renderKnownWords();
            updateCounts();
        }

        function restoreAll() {
            if (confirm('모든 완료 단어를 되돌리시겠습니까?')) {
                knownWords = [];
                localStorage.setItem('demoKnownWords', JSON.stringify(knownWords));
                renderKnownWords();
                updateCounts();
            }
        }

        function resetAll() {
            knownWords = [];
            localStorage.setItem('demoKnownWords', JSON.stringify(knownWords));
            showAll = false;
            renderWords();
            updateCounts();
        }

        function updateCounts() {
            const total = 50;
            const known = knownWords.length;
            const remaining = total - known;
            
            document.getElementById('remaining-count').textContent = remaining;
            document.getElementById('known-count').textContent = known;
            document.getElementById('total-words').textContent = total;
            document.getElementById('progress').textContent = Math.round((known / total) * 100) + '%';
        }

        // Initialize app
        initializeApp();
    </script>
</body>
</html>